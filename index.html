<!DOCTYPE html>
<html lang="ta">

<head>
    <meta charset="UTF-8">
    <title>роЬро╛родроХ ро╡ро┐ро╡ро░роЩрпНроХро│рпН</title>
    <style>
        body { font-family: 'Latha', 'Nirmala UI', sans-serif; font-size: 16px; background-color: #fff8f0; margin: 0; padding: 0; } .page { border: 3px solid #000080; margin: 10px; padding: 10px; background: #fffdf9; min-height: calc(100vh - 40px); display: flex; flex-direction: column; justify-content: space-between; position: relative; } .header { text-align: center; margin: 5px 0 8px 0; color: #000080; position: relative; border-bottom: 3px solid #000080; padding: 10px; background: linear-gradient(90deg, #ffefd5, #ffe4b5); font-size: 20px; font-weight: bold; } .header img { position: absolute; top: 0; left: 0; width: 80px; height: auto; } h1 { margin: 2px; font-size: 22px; } h2 { margin: 2px; font-size: 17px; } p { margin: 2px; font-size: 15px; } .separator { border-top: 2px solid #000080; margin: 10px 0; } .sub-header { text-align: center; font-size: 18px; font-weight: bold; color: #000080; margin-bottom: 8px; } .top-fields { margin-bottom: 10px; } .top-fields table { width: 100%; border-collapse: collapse; margin-bottom: 10px; } .top-fields td { border: 1px solid #000080; padding: 4px 6px; white-space: nowrap; font-weight: bold; } .top-fields input { width: 100%; border: none; background: transparent; outline: none; font-size: 16px; } .container { display: flex; flex-direction: row; justify-content: space-between; width: 100%; flex-grow: 1; gap: 10px; } .form-section { width: 70%; display: flex; flex-direction: column; } .form-table { flex-grow: 1; } table { border-collapse: collapse; width: 100%; font-size: 16px; } td { border: 1px solid #000080; padding: 6px 8px; vertical-align: middle; font-weight: bold; color: #000; } input, textarea { width: 90%; border: none; font-size: 16px; background: transparent; outline: none; font-weight: normal; color: #000; } textarea { resize: vertical; } .side-section { width: 28%; display: flex; flex-direction: column; justify-content: space-between; } .chart-wrapper { width: 100%; flex: 1; margin-bottom: 10px; } .chart {
  border: 2px solid #000080;
  background-color: #fff4e0;
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  grid-template-rows: repeat(4, 1fr);
  aspect-ratio: 1 / 1;
  gap: 2px;
  grid-template-areas:
    "a b c d"
    "l center center e"
    "k center center f"
    "j i h g";
} 
.cell {
  border: 1px solid #000080;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 2px;
}

.cell textarea {
  width: 100%;
  height: 100%;
  min-height: 60px;        /* тмЕя╕П ensures enough height for ~4 lines */
  resize: none;
  border: none;
  background: transparent;
  text-align: center;
  font-size: 13px;         /* smaller text fits better */
  font-weight: normal;
  font-family: inherit;
  outline: none;
  overflow: hidden;        /* тмЕя╕П no scrollbars */
  white-space: pre-wrap;   /* тмЕя╕П allow line breaks */
  word-wrap: break-word;   /* тмЕя╕П wrap text inside box */
}

.center {
  grid-area: center;
  border: 2px solid #000080;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  font-size: 16px;
  color: #000080;
  padding: 4px;
  text-align: center;
} .footer { text-align: center; font-size: 15px; margin: 6px 0; padding-top: 5px; border-top: 2px solid #000080; color: #333; } .print-btn { display: block; margin: 10px auto 0 auto; padding: 8px 16px; font-size: 16px; cursor: pointer; border: 1px solid #444; border-radius: 4px; background: #000080; color: #fff; } .print-btn:hover { background: #333366; } @page { size: A4; margin: 8mm; } @media print { .voice-btn,.rasSel,.keyboard { display: none !important; } /* hide mic buttons */ body { -webkit-print-color-adjust: exact; print-color-adjust: exact; } .page { margin: 0; border: 2px solid #000; } .print-btn { display: none; } } .voice-btn { margin-left: 4px; cursor: pointer; background: #000080; color: #fff; border: none; border-radius: 50%; width: 26px; height: 26px; text-align: center; font-size: 14px;flex-shrink: 0; } .input-wrapper { display: flex; align-items: center; gap: 4px; }
 /* ... keep your existing CSS ... */

  .lagna {
    border: 1px solid black !important;
    position: relative;
  }
  .lagna-label {
    position: absolute;
    bottom: 2px;
    right: 2px;
    font-size: 10px;
    color: red;
    font-weight: bold;
  }
 .raasi .cell textarea,
  .navamsam .cell textarea {
    width: 90%;
    height: 40px;
    resize: none;
    font-family: 'Latha', 'Nirmala UI', sans-serif !important;
    font-size: 13px !important;
    text-align: center;
    line-height: 1.2;
  }

  /* ЁЯФ╣ Other text inputs in form */
  input[type="text"], textarea {
    font-size: 16px;
    font-family: 'Latha', 'Nirmala UI', sans-serif;
  }
  .keyboard {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  background: #ffe4b5;
  border-bottom: 2px solid #000080;
  padding: 5px;
  z-index: 9999;
  font-family: 'Latha','Nirmala UI',sans-serif;
}
.keyboard-header {
  display: flex;
  justify-content: space-between;
  font-weight: bold;
  color: #000080;
  margin-bottom: 5px;
}
.keyboard-keys {
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
}
.keyboard-keys button {
  padding: 4px 8px;
  font-size: 18px;
  border: 1px solid #000080;
  background: #fff;
  cursor: pointer;
  border-radius: 4px;
}
.keyboard-keys button:hover {
  background: #fdd;
}
.keyboard.collapsed .keyboard-keys {
  display: none;
}
    </style>
</head>

<body>
    <div class="page">
        <div class="header"> <img src="https://i.pinimg.com/736x/8d/84/b9/8d84b911d07e1f958db5c948b30001c5.jpg" alt="Mahalakshmi">
            <h1>ро╕рпНро░рпА роороХро╛ро▓роЯрпНроЪрпБрооро┐ роорогроороХро┐ро┤рпН роорогрооро╛ро▓рпИ</h1>
            <h2>родро┐ро░рпБ. роХроирпНродроЪро╛рооро┐, роЪро┐ройрпНройро┐ропроорпНрокро╛ро│рпИропроорпН, роХрпЛропроорпНрокрпБродрпНродрпВро░рпН</h2>
            <p>роЪрпЖро▓рпН: +91 95008 90278</p>
        </div>
        <div class="separator"></div>
        <div class="sub-header">рокродро┐ро╡рпБ ро╡ро┐рогрпНрогрокрпНрокроорпН</div>
        <!-- Top Fields -->
        <div class="top-fields">
            <table>
                <tr>
                    <td>рокродро┐ро╡рпБ роОрогрпН</td>
                    <td>
                        <div class="input-wrapper">
                            <input type="text" id="regno">
                            <button type="button" class="voice-btn" onclick="startVoice('regno')">ЁЯОд</button>
                        </div>
                    </td>
                    <td>родрпЛро╖роорпН</td>
                    <td>
                        <div class="input-wrapper">
                            <input type="text" id="dosham">
                            <button type="button" class="voice-btn" onclick="startVoice('dosham')">ЁЯОд</button>
                        </div>
                    </td>
                    <td>родрпЗродро┐</td>
                    <td>
                        <div class="input-wrapper">
                            <input type="date" id="date">
                            <button type="button" class="voice-btn" onclick="startVoice('date')">ЁЯОд</button>
                        </div>
                    </td>
                </tr>
            </table>
        </div>
        <div class="container">
            <!-- Form Section -->
            <div class="form-section">
                <table class="form-table">
                    <tr>
                        <td>рокрпЖропро░рпН</td>
                        <td>
                            <input id="name">
                            <button class="voice-btn" onclick="startVoice('name')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>роХрпБро▓роорпН</td>
                        <td>
                            <input id="kulam">
                            <button class="voice-btn" onclick="startVoice('kulam')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>рокро┐ро▒роирпНрод родрпЗродро┐</td>
                        <td>
                            <input id="dob">
                            <button class="voice-btn" onclick="startVoice('dob')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>рокро┐ро▒роирпНрод роирпЗро░роорпН</td>
                        <td>
                            <input id="time">
                            <button class="voice-btn" onclick="startVoice('time')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>роироЯрпНроЪродрпНродро┐ро░роорпН</td>
                        <td>
                            <input id="nakshatra">
                            <button class="voice-btn" onclick="startVoice('nakshatra')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>ро░ро╛роЪро┐</td>
                        <td>
                            <input id="raasi">
                            <button class="voice-btn" onclick="startVoice('raasi')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>ро▓роХрпНройроорпН</td>
                        <td>
                            <input id="lagna">
                            <button class="voice-btn" onclick="startVoice('lagna')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>роХро▓рпНро╡ро┐</td>
                        <td>
                            <input id="education">
                            <button class="voice-btn" onclick="startVoice('education')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>ро╡рпЗро▓рпИ/родрпКро┤ро┐ро▓рпН</td>
                        <td>
                            <input id="job">
                            <button class="voice-btn" onclick="startVoice('job')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>рооро╛род ро╡ро░рпБрооро╛ройроорпН</td>
                        <td>
                            <input id="income">
                            <button class="voice-btn" onclick="startVoice('income')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>роЙроЯройрпНрокро┐ро▒роирпНродро╡ро░рпНроХро│рпН</td>
                        <td>
                            <input id="siblings">
                            <button class="voice-btn" onclick="startVoice('siblings')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>родроирпНродрпИ рокрпЖропро░рпН</td>
                        <td>
                            <input id="father">
                            <button class="voice-btn" onclick="startVoice('father')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>родро╛ропро╛ро░рпН рокрпЖропро░рпН</td>
                        <td>
                            <input id="mother">
                            <button class="voice-btn" onclick="startVoice('mother')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>роЪрпКродрпНродрпБ ро╡ро┐ро╡ро░роорпН</td>
                        <td>
                            <input id="property">
                            <button class="voice-btn" onclick="startVoice('property')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН</td>
                        <td>
                            <input id="phone">
                            <button class="voice-btn" onclick="startVoice('phone')">ЁЯОд</button>
                        </td>
                    </tr>
                    <tr>
                        <td>роЗроЯроорпН</td>
                        <td>
                            <input id="location">
                            <button class="voice-btn" onclick="startVoice('location')">ЁЯОд</button>
                        </td>
                    </tr>
                </table>
            </div>
            <!-- Horoscope Section -->
            <div class="side-section">
<div class="chart-wrapper">
  <div class="rasSel" style="text-align:center; margin-bottom:4px;">
    ро░ро╛роЪро┐ ро▓роХрпНройроорпН:
    <select onchange="markLagna(this.value, 'raasi')">
      <option value="">--родрпЗро░рпНро╡рпБ--</option>
      <option value="1">1</option><option value="2">2</option>
      <option value="3">3</option><option value="4">4</option>
      <option value="5">5</option><option value="6">6</option>
      <option value="7">7</option><option value="8">8</option>
      <option value="9">9</option><option value="10">10</option>
      <option value="11">11</option><option value="12">12</option>
    </select>
  </div>
  <div class="chart" id="raasiChart">
    <div class="cell" id="raasi1"><textarea id="r1a"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1a')">ЁЯОд</button></div>
    <div class="cell" id="raasi2"><textarea id="r1b"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1b')">ЁЯОд</button></div>
    <div class="cell" id="raasi3"><textarea id="r1c"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1c')">ЁЯОд</button></div>
    <div class="cell" id="raasi4"><textarea id="r1d"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1d')">ЁЯОд</button></div>
    <div class="cell" id="raasi5"><textarea id="r1l"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1l')">ЁЯОд</button></div>
    <div class="cell" id="raasi6"><textarea id="r1e"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1e')">ЁЯОд</button></div>
    <div class="cell" id="raasi7"><textarea id="r1k"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1k')">ЁЯОд</button></div>
    <div class="cell" id="raasi8"><textarea id="r1f"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1f')">ЁЯОд</button></div>
    <div class="cell" id="raasi9"><textarea id="r1j"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1j')">ЁЯОд</button></div>
    <div class="cell" id="raasi10"><textarea id="r1i"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1i')">ЁЯОд</button></div>
    <div class="cell" id="raasi11"><textarea id="r1h"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1h')">ЁЯОд</button></div>
    <div class="cell" id="raasi12"><textarea id="r1g"></textarea><button class="voice-btn" onclick="startVoiceRaasi('r1g')">ЁЯОд</button></div>
    <div class="center">ро░ро╛роЪро┐</div>
  </div>
</div>

<div class="chart-wrapper">
  <div class="rasSel" style="text-align:center; margin-bottom:4px;">
    роиро╡ро╛роорпНроЪ ро▓роХрпНройроорпН:
    <select onchange="markLagna(this.value, 'navamsam')">
      <option value="">--родрпЗро░рпНро╡рпБ--</option>
      <option value="1">1</option><option value="2">2</option>
      <option value="3">3</option><option value="4">4</option>
      <option value="5">5</option><option value="6">6</option>
      <option value="7">7</option><option value="8">8</option>
      <option value="9">9</option><option value="10">10</option>
      <option value="11">11</option><option value="12">12</option>
    </select>
  </div>
  <div class="chart" id="navamsamChart">
    <div class="cell" id="navamsam1"><textarea id="n1a"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1a')">ЁЯОд</button></div>
    <div class="cell" id="navamsam2"><textarea id="n1b"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1b')">ЁЯОд</button></div>
    <div class="cell" id="navamsam3"><textarea id="n1c"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1c')">ЁЯОд</button></div>
    <div class="cell" id="navamsam4"><textarea id="n1d"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1d')">ЁЯОд</button></div>
    <div class="cell" id="navamsam5"><textarea id="n1l"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1l')">ЁЯОд</button></div>
    <div class="cell" id="navamsam6"><textarea id="n1e"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1e')">ЁЯОд</button></div>
    <div class="cell" id="navamsam7"><textarea id="n1k"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1k')">ЁЯОд</button></div>
    <div class="cell" id="navamsam8"><textarea id="n1f"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1f')">ЁЯОд</button></div>
    <div class="cell" id="navamsam9"><textarea id="n1j"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1j')">ЁЯОд</button></div>
    <div class="cell" id="navamsam10"><textarea id="n1i"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1i')">ЁЯОд</button></div>
    <div class="cell" id="navamsam11"><textarea id="n1h"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1h')">ЁЯОд</button></div>
    <div class="cell" id="navamsam12"><textarea id="n1g"></textarea><button class="voice-btn" onclick="startVoiceRaasi('n1g')">ЁЯОд</button></div>
    <div class="center">роиро╡ро╛роорпНроЪроорпН</div>
  </div>
</div>
            </div>
        </div>
        <div class="footer">рокродро┐ро╡рпБ роХроЯрпНроЯрогроорпН: ро░рпВ.1000 (6 рооро╛родродрпНродро┐ро▒рпНроХрпЗ роороЯрпНроЯрпБроорпН) рокро┐ройрпНройро░рпН рокрпБродрпБрокрпНрокро┐роХрпНроХро╡рпБроорпН</div>
        <button class="print-btn" onclick="window.print()">ЁЯЦия╕П PDF роЕроЪрпНроЪро┐роЯрпБ</button>
    </div>
	<!-- Place this just before </body> -->
<!-- Floating Tamil Keyboard -->
<div id="tamilKeyboard" class="keyboard">
  <div class="keyboard-header">
    <span>ЁЯИ┤ родрооро┐ро┤рпН Keyboard</span>
    <button onclick="toggleKeyboard()">тЦ▓</button>
  </div>
  <div class="keyboard-keys">
    <button onclick="insertChar('роЕ')">роЕ</button>
    <button onclick="insertChar('роЖ')">роЖ</button>
    <button onclick="insertChar('роЗ')">роЗ</button>
    <button onclick="insertChar('роИ')">роИ</button>
    <button onclick="insertChar('роЙ')">роЙ</button>
    <button onclick="insertChar('роК')">роК</button>
    <button onclick="insertChar('роО')">роО</button>
    <button onclick="insertChar('роП')">роП</button>
    <button onclick="insertChar('роР')">роР</button>
    <button onclick="insertChar('роТ')">роТ</button>
    <button onclick="insertChar('роУ')">роУ</button>
    <button onclick="insertChar('роФ')">роФ</button>
    <br>
    <button onclick="insertChar('роХ')">роХ</button>
    <button onclick="insertChar('роЪ')">роЪ</button>
    <button onclick="insertChar('роЯ')">роЯ</button>
    <button onclick="insertChar('род')">род</button>
    <button onclick="insertChar('рок')">рок</button>
    <button onclick="insertChar('ро░')">ро░</button>
    <button onclick="insertChar('роо')">роо</button>
    <button onclick="insertChar('рои')">рои</button>
    <button onclick="insertChar('роп')">роп</button>
    <button onclick="insertChar('ро╡')">ро╡</button>
    <button onclick="insertChar('ро┤')">ро┤</button>
    <button onclick="insertChar('ро│')">ро│</button>
    <button onclick="insertChar('ро▒')">ро▒</button>
    <button onclick="insertChar('рой')">рой</button>
  </div>
</div>
    <script>
        function startVoice(fieldId) { if (!('webkitSpeechRecognition' in window)) { alert("роЙроЩрпНроХро│рпН роЙро▓ро╛ро╡ро┐ропро┐ро▓рпН Voice Recognition роЖродро░ро╡рпБ роЗро▓рпНро▓рпИ!"); return; } const input = document.getElementById(fieldId); const recognition = new webkitSpeechRecognition(); recognition.lang = "ta-IN"; recognition.interimResults = false; recognition.maxAlternatives = 1; recognition.onresult = function(event) {         const box = document.getElementById(fieldId);
        box.value += event.results[0][0].transcript;
        // ЁЯФ╣ Enforce 13px if inside Raasi/Navamsam
          box.style.fontSize = "16px";
          box.style.fontFamily = "'Latha','Nirmala UI',sans-serif";}; recognition.onerror = function(event) { alert("роХрпБро░ро▓рпН рокро┐ро┤рпИ: " + event.error); }; recognition.start(); }

		  function startVoiceRaasi(fieldId) {
    if ('webkitSpeechRecognition' in window) {
      const recognition = new webkitSpeechRecognition();
      recognition.lang = 'ta-IN';
      recognition.continuous = false;
      recognition.interimResults = false;

      recognition.onresult = function(event) {
        const box = document.getElementById(fieldId);
        box.value += event.results[0][0].transcript;
        // ЁЯФ╣ Enforce 13px if inside Raasi/Navamsam
          box.style.fontSize = "12px";
          box.style.fontFamily = "'Latha','Nirmala UI',sans-serif";
      };

      recognition.start();
    } else {
      alert("Speech Recognition not supported in this browser.");
    }
  }
		function markLagna(value, chartType) {
  // clear old lagna marks
  document.querySelectorAll("#" + chartType + "Chart .cell").forEach(cell => {
    cell.classList.remove("lagna");
    let lbl = cell.querySelector(".lagna-label");
    if (lbl) lbl.remove();
  });

  if (value) {
    let target = document.getElementById(chartType + value);
    if (target) {
      target.classList.add("lagna");
      let lbl = document.createElement("div");
      lbl.className = "lagna-label";
      lbl.innerText = "ро▓роХрпН";
      target.appendChild(lbl);
    }
  }
}
let activeInput = null;

// track currently focused input/textarea
document.addEventListener('focusin', (e) => {
  if (e.target.tagName === "INPUT" || e.target.tagName === "TEXTAREA") {
    activeInput = e.target;
  }
});

// insert Tamil character
function insertChar(ch) {
  if (activeInput) {
    const start = activeInput.selectionStart;
    const end = activeInput.selectionEnd;
    const text = activeInput.value;
    activeInput.value = text.slice(0, start) + ch + text.slice(end);
    activeInput.focus();
    activeInput.selectionStart = activeInput.selectionEnd = start + ch.length;
  }
}

// collapse/expand keyboard
function toggleKeyboard() {
  document.getElementById("tamilKeyboard").classList.toggle("collapsed");
}
   
    </script>
</body>

</html>
